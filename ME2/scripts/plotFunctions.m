clear;

me2_folder = '~/PhdResearch/ME2/Results/ME2_Results_nov30_2018/';
ecj_folder = '~/PhdResearch/ME2/Results/ecj_results_dec2_2018/';

 prob = 'Hump6';
% prob = 'Branin';
% prob = 'Matyas';
% prob = 'Beale';
% prob = 'Schaffer';
%===================
%  prob = 'Ackley';
% prob = 'Rosenbrock';
% prob = 'Griewank';
% prob = 'Schwefel';
% prob = 'Sphere';
 prob1 = prob;
%  prob = 'Rastr';
%  prob1 = 'rastrigin';
 

%dim = {'2','5', '10', '15', '20', '25', '30', '35', '40', '45', '50'};
dim = {'2'};
for d = 1:size(dim,2)
itr = 200;
me2_dir = dir(strcat([me2_folder, 'track-', prob, '-', dim{d}, '-*.txt']));
pso_dir = dir(strcat([ecj_folder, 'pso.params-', lower(prob1), '-', dim{d}, '-*.stat']));
ga_dir = dir(strcat([ecj_folder, 'ecsuite.params-', lower(prob1), '-', dim{d}, '-*.stat']));
sa_dir = dir(strcat([ecj_folder, 'sa.params-', lower(prob1), '-',  dim{d}, '-*.stat']));

me2 = zeros(itr, 30);
pso = zeros(itr, 30);
ga = zeros(itr, 30);
sa = zeros(itr, 30);

me2_eval = zeros(itr, 30);

for i = 1:30
    me2_t = dlmread(strcat([me2_folder, me2_dir(i).name]));
    me2(:,i) = me2_t(1:itr,2);
    me2_eval = me2_t(1:itr,3);
    pso_t = dlmread(strcat([ecj_folder, pso_dir(i).name]));
    s = size(pso_t,1);
    if s > itr
        s = itr;
    end
    pso(1:s,i) = -pso_t(1:s,4);
    ga_t = dlmread(strcat([ecj_folder, ga_dir(i).name]));
    ga(:,i) = -ga_t(1:itr,4);
    sa_t = dlmread(strcat([ecj_folder, sa_dir(i).name]));
    s = size(sa_t,1);
    if s > itr
        s = itr;
    end
    sa(1:s,i) = -sa_t(1:s,4);
end

m_me2 = mean(me2,2);
m_pso = mean(pso,2);
m_ga = mean(ga,2);
m_sa = mean(sa,2);

m_me2_eval = cumsum(mean(me2_eval,2));

dim{d}
int2str(sum(mean(me2_eval,2))/itr)

figure(d);
plot(m_me2_eval, (-1)*m_me2, '-', m_me2_eval, m_pso, '--', m_me2_eval, m_ga, '-.', m_me2_eval, m_sa, ':', 'LineWidth',2);
title(strcat(prob1, ' Dimension:', dim(d)));
xlabel('Number of Evaluations');
ylabel('Average of 30 executions');
legend('Map Explore Exploit','Paritcle Swarm Optimization','Genetic Algorithm','Simulated Annealing');

%fileName = strcat('~/git/ME2/docs/images/', prob1,'-', dim(d), '.jpg');
%set(gca,'FontSize',12,'LineWidth',2);
%print(gcf,fileName{1},'-djpeg','-r300');

end